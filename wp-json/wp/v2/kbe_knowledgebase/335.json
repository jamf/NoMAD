{"id":335,"date":"2017-10-03T12:04:16","date_gmt":"2017-10-03T12:04:16","guid":{"rendered":"https:\/\/nomad.menu\/?post_type=kbe_knowledgebase&#038;p=335"},"modified":"2018-06-20T10:06:05","modified_gmt":"2018-06-20T15:06:05","slug":"keychain-item-syncing","status":"publish","type":"kbe_knowledgebase","link":"https:\/\/nomad.menu\/help\/keychain-item-syncing\/","title":{"rendered":"Keychain Item Syncing"},"content":{"rendered":"<p>Another feature introduced with NoMAD v. 1.1 is NoMAD&#8217;s ability to synchronize items in a users keychain whenever the user changes his or her password. Using this feature should keep users from being flooded with password errors for all of those applications that aren&#8217;t Kerberized.<\/p>\n<h2><strong>Configuration<\/strong><\/h2>\n<p>NoMAD uses a dictionary of keychain item names and then account names to find the keychain items in the user&#8217;s keychain. The account name can use NoMAD&#8217;s variable substitution to create the account name since it most likely won&#8217;t be just the user&#8217;s UPN or shortname. All the standard NoMAD variables work here:\u00a0<code>&lt;&lt;domain&gt;&gt;, &lt;&lt;fullname&gt;&gt;, &lt;&lt;serial&gt;&gt;, &lt;&lt;shortname&gt;&gt;, &lt;&lt;upn&gt;&gt;, and &lt;&lt;email&gt;&gt;<\/code>.<\/p>\n<p>In the following keychain item example, the keychain item name is &#8220;NoMAD Fake App&#8221; and the account name is &#8220;joel@nomad.test&#8221;:<\/p>\n<p><img loading=\"lazy\" class=\"aligncenter wp-image-336 size-full\" src=\"https:\/\/nomad.menu\/wp-content\/uploads\/2017\/10\/Screen-Shot-2017-10-03-at-1.43.55-PM.png\" alt=\"\" width=\"1292\" height=\"918\" \/><\/p>\n<p>You can create this dictionary via the defaults command in a few ways. If you know everything all at once, you can create the dictionary inline:<br \/>\n<code>defaults write com.trusourcelabs.NoMAD KeychainItems '{ \"App1\" = \"User1\"; \"App2\" = \"User2\"; \"App3\" = \"User3\"; }';<\/code><br \/>\n(Make sure you take care with all of the single and double quotes.)<\/p>\n<p>You can also do this with the -dict and -dict-add flags:<\/p>\n<p><code>defaults write com.trusourcelabs.NoMAD KeychainItems -dict \"App1\" \"User1\"<\/code><\/p>\n<p><code>defaults write com.trusourcelabs.NoMAD KeychainItems -dict-add \"App2\" \"User2\"<\/code><\/p>\n<h2><strong>Troubleshooting<\/strong><\/h2>\n<p>Run NoMAD in verbose mode, and you&#8217;ll get lots of logs about what&#8217;s going on\u2014 so that&#8217;s the first place to start. Included in this, you&#8217;ll see whether the keychain item was found and if there were any errors in changing it.<\/p>\n<p>You can also set the <code>KeychainItemsDebug<\/code> preference key, which will have NoMAD update the keychain items every time the user signs in, rather than simply when the password is changed. This should greatly simplify testing variable substitution and other functions.<\/p>\n<p>Keep in mind that not all applications use plain text passwords anymore; many of the cloud services, for instance, will generate a user token and store that in the keychain instead. Thus, use Keychain Access to ensure that the password is actually what you think it is before attempting to have NoMAD manage it.<\/p>\n<h2><strong>Still To Come<\/strong><\/h2>\n<p>Currently, this only changes application passwords and not Internet passwords. Look for that in a future update.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>Another feature introduced with NoMAD v. 1.1 is NoMAD&#8217;s ability to synchronize items in a users keychain whenever the user changes his or her password. Using this feature should keep users from being flooded with password errors for all of those applications that aren&#8217;t Kerberized. Configuration NoMAD uses a dictionary of keychain item names and [&hellip;]<\/p>\n","protected":false},"author":3,"featured_media":0,"comment_status":"closed","ping_status":"closed","template":"","kbe_taxonomy":[25],"kbe_tags":[],"_links":{"self":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_knowledgebase\/335"}],"collection":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_knowledgebase"}],"about":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/types\/kbe_knowledgebase"}],"author":[{"embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/users\/3"}],"replies":[{"embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/comments?post=335"}],"version-history":[{"count":0,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_knowledgebase\/335\/revisions"}],"wp:attachment":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/media?parent=335"}],"wp:term":[{"taxonomy":"kbe_taxonomy","embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_taxonomy?post=335"},{"taxonomy":"kbe_tags","embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_tags?post=335"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}