{"id":506,"date":"2016-12-21T02:14:08","date_gmt":"2016-12-21T02:14:08","guid":{"rendered":"http:\/\/gonomad.wpengine.com\/?post_type=kbe_knowledgebase&#038;p=132"},"modified":"2018-06-19T11:56:15","modified_gmt":"2018-06-19T16:56:15","slug":"deploying-nomad","status":"publish","type":"kbe_knowledgebase","link":"https:\/\/nomad.menu\/help\/deploying-nomad\/","title":{"rendered":"Deploying NoMAD"},"content":{"rendered":"<p>NoMAD was designed to be as simple as possible to deploy into any organization, regardless of size. Thus, you can deploy NoMAD in a number of ways in order to accommodate a variety of different organizational needs. No one way is any more &#8220;correct&#8221; than another.<\/p>\n<h2><strong style=\"font-size: 20px; line-height: 1.6em;\">Stand Alone Application<\/strong><\/h2>\n<p>At the most basic level, you can deploy NoMAD to your users as a stand-alone application. It does not need admin authorization to run, nor does it need to be in any particular location on the user&#8217;s Mac. The only required preference to set is the AD Domain. If the machine is bound to an AD domain, the user won&#8217;t even be prompted for the domain, as it will be pulled from the <em>dsconfigad<\/em> settings instead.<\/p>\n<p>For many smaller environments, this may be all that&#8217;s required for a deployment, although to make NoMAD more useful it should be set to a Login Item in the user&#8217;s System Preferences or via a Launch Agent most likely supplied by an admin.<\/p>\n<p>For the more adventurous admins, you could edit the DefaultPreferences.plist within the NoMAD application bundle, as many preferences will default to values contained in that plist. However, this will break the application&#8217;s signature and will require it to be re-signed. While this isn&#8217;t a complicated process, it does require a developer account with Apple.<\/p>\n<h2><strong style=\"font-size: 20px; line-height: 1.6em;\">Package Installer<\/strong><\/h2>\n<p>The next step up from just handing out the .app is to put the application into a package installer. There is one on the NoMAD web page that will install NoMAD into the \/Applications folder; keep in mind, however, that this will require admin privileges.<\/p>\n<p>It&#8217;s also feasible to create your own package installer that could lay down a default preferences file in either \/Library\/Preferences\/com.trusourcelabs.NoMAD.plist or in the user&#8217;s Preferences folder. Additionally, you could use a post-install script to use the <em>defaults<\/em> command to write out individual keys.<\/p>\n<p>Note that NoMAD pulls from a preferences file in \/Library\/Preferences and then combines that with user-defined preferences.<\/p>\n<p>If you are installing NoMAD in the \/Applications folder, you can also install a LaunchAgent for the users that will launch NoMAD on user log in. You can install a configuration profile at the same time, as well.<\/p>\n<h2><strong style=\"font-size: 20px; line-height: 1.6em;\">Configuration Profile<\/strong><\/h2>\n<p>NoMAD will respect preference keys from a configuration profile. You can create one of these by hand\u2014though this is not advised\u2014or via a number of tools such as Apple&#8217;s Profile Manager application, part of Apple&#8217;s Server application on the Mac App Store, or 3rd party MDM solutions. A configuration profile will typically be in a binary format and signed to ensure its validity.<\/p>\n<p>Here&#8217;s an example plaintext payload:<br \/>\n<code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;<br \/>\n&lt;!DOCTYPE plist PUBLIC \"-\/\/Apple\/\/DTD PLIST 1.0\/\/EN\" \"http:\/\/www.apple.com\/DTDs\/PropertyList-1.0.dtd\"&gt;<br \/>\n&lt;plist version=\"1.0\"&gt;<br \/>\n&lt;dict&gt;<br \/>\n&lt;key&gt;ADDomain&lt;\/key&gt;<br \/>\n&lt;string&gt;nomad.test&lt;\/string&gt;<br \/>\n&lt;key&gt;KerberosRealm&lt;\/key&gt;<br \/>\n&lt;string&gt;NOMAD.TEST&lt;\/string&gt;<br \/>\n&lt;key&gt;RenewTickets&lt;\/key&gt;<br \/>\n&lt;string&gt;1&lt;\/string&gt;<br \/>\n&lt;key&gt;SecondsToRenew&lt;\/key&gt;<br \/>\n&lt;string&gt;7200&lt;\/string&gt;<br \/>\n&lt;key&gt;ShowHome&lt;\/key&gt;<br \/>\n&lt;string&gt;0&lt;\/string&gt;<br \/>\n&lt;key&gt;Template&lt;\/key&gt;<br \/>\n&lt;string&gt;User Auth&lt;\/string&gt;<br \/>\n&lt;key&gt;UseKeychain&lt;\/key&gt;<br \/>\n&lt;string&gt;0&lt;\/string&gt;<br \/>\n&lt;key&gt;Verbose&lt;\/key&gt;<br \/>\n&lt;string&gt;0&lt;\/string&gt;<br \/>\n&lt;key&gt;X509CA&lt;\/key&gt;<br \/>\n&lt;string&gt;dc1.nomad.test&lt;\/string&gt;<br \/>\n&lt;\/dict&gt;<br \/>\n&lt;\/plist&gt;<br \/>\n<\/code><\/p>\n<h2>\n<strong style=\"font-size: 20px; line-height: 1.6em;\">Managed Preferences<\/strong><\/h2>\n<p>If you have an existing management solution, you can easily push both the NoMAD package and the preferences from most management solutions. This is probably the easiest deployment method for larger organizations.<\/p>\n<p>Within the management system, you can specify a preferences domain to control. In this case, NoMAD&#8217;s preference domain is <em>com.trusourcelabs.NoMAD<\/em>. Then, just add the keys and values that you want to manage.<\/p>\n","protected":false},"excerpt":{"rendered":"<p>NoMAD was designed to be as simple as possible to deploy into any organization, regardless of size. Thus, you can deploy NoMAD in a number of ways in order to accommodate a variety of different organizational needs. No one way is any more &#8220;correct&#8221; than another. Stand Alone Application At the most basic level, you [&hellip;]<\/p>\n","protected":false},"author":3,"featured_media":0,"comment_status":"open","ping_status":"closed","template":"","kbe_taxonomy":[20],"kbe_tags":[],"_links":{"self":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_knowledgebase\/506"}],"collection":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_knowledgebase"}],"about":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/types\/kbe_knowledgebase"}],"author":[{"embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/users\/3"}],"replies":[{"embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/comments?post=506"}],"version-history":[{"count":0,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_knowledgebase\/506\/revisions"}],"wp:attachment":[{"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/media?parent=506"}],"wp:term":[{"taxonomy":"kbe_taxonomy","embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_taxonomy?post=506"},{"taxonomy":"kbe_tags","embeddable":true,"href":"https:\/\/nomad.menu\/wp-json\/wp\/v2\/kbe_tags?post=506"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}